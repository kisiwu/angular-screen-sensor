"object"==typeof module&&module.exports&&(module.exports="angularScreenSensor"),function(a){"use strict";a.module("angularScreenSensor",[]),a.module("angularScreenSensor").directive("screenSensor",["sensorRemote","$window",function(b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(d,e,f){var g,h,i=e,j=i.width()+"x"+i.height(),k=[],l=function(a,b){var c=d.$eval(f[a]);"function"==typeof c&&c(b)},m=function(){k.some(function(a,b,c){var e=a.element;if(e.offset().top-i.offset().top-(d.$eval(f.paddingTop)||0)>=0)return g&&g.is(e)||(g=e,l("toppestFn",a.scope.screenPix)),!0})},n=function(){k.some(function(a,b,c){var e=a.element;a.scope;return e.offset().top-(i.offset().top+i.innerHeight())+(d.$eval(f.paddingBottom)||0)>=0?(h&&h.is(e)||(h=e,l("bottomestFn",a.scope.screenPix)),!0):b==c.length-1?(h&&h.is(e)||(h=e,l("bottomestFn",a.scope.screenPix)),!0):void 0})},o=function(){m(),n()};this.add=function(a,b){k.push({scope:a,element:b})},$(i).on("scroll",function(){o()}),a.element(c).bind("resize",function(){var a=$(i).width()+"x"+$(i).height();j!==a&&(j=a,o())}),b.register({event:"scan",callback:o})}]}}]),a.module("angularScreenSensor").directive("screenPix",["$timeout",function(a){return{restrict:"A",require:"^screenSensor",scope:{screenPix:"=",paddingTop:"=?",paddingBottom:"=?",toppestFn:"=?",bottomestFn:"=?"},link:function(a,b,c,d){d.add(a,b,c)}}}]),a.module("angularScreenSensor").factory("sensorRemote",["$timeout",function(b){function c(){e.forEach(function(a){"scan"!=a.event&&a.event!=f||a.callback()})}function d(b){b&&(a.isObject(b)||(b={callback:b}),"function"==typeof b.callback&&(b.event&&a.isString(b.event)||(b.event=f),e.push(b)))}var e=[];const f="all";return{register:d,scan:c}}])}(angular);