"object"==typeof module&&module.exports&&(module.exports="angularScreenSensor"),function(a){"use strict";a.module("angularScreenSensor",[]),a.module("angularScreenSensor").directive("screenSensor",function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,b,c){var d,e,f=b,g=[],h=function(b,d){var e=a.$eval(c[b]);"function"==typeof e&&e(d)};$(f).on("scroll",function(){g.some(function(b,e,g){var i=b.element;if(i.offset().top-f.offset().top-(a.$eval(c.paddingTop)||0)>=0)return d&&d.is(i)||(d=i,h("toppestFn",b.scope.screenPix)),!0}),g.some(function(b,d,g){var i=b.element;b.scope;return i.offset().top-(f.offset().top+f.innerHeight())+(a.$eval(c.paddingBottom)||0)>=0?(e&&e.is(i)||(e=i,h("bottomestFn",b.scope.screenPix)),!0):d==g.length-1?(e&&e.is(i)||(e=i,h("bottomestFn",b.scope.screenPix)),!0):void 0})}),this.add=function(a,b){g.push({scope:a,element:b})}}]}}),a.module("angularScreenSensor").directive("screenPix",["$timeout",function(a){return{restrict:"A",require:"^screenSensor",scope:{screenPix:"=",paddingTop:"=?",paddingBottom:"=?",toppestFn:"=?",bottomestFn:"=?"},link:function(a,b,c,d){d.add(a,b,c)}}}])}(angular);